library(tidyverse)
data <- read_csv("https://archive.ics.uci.edu/ml/machine-learning-databases/adult/adult.data", col_names = FALSE)
colnames(data) <- c("age", "workclass", "fnlwgt", "education", "education_num", "married", "occupation", "relationship", "race",  "sex", "capital-gain", "capital-loss", "hours-per-week", "native-country", "income")
head(data)
summary(data$married)
table(data$married)
table(data$occupation)
table(data$relationship)
table(data$capital-gain)
table(data$capital-gain)
table(data$capital_gain)
table(data$`capital-gain`)
table(data$`capital-loss`)
table(data$income)
table(data$workclass)
library(tidyverse)
data <- read_csv("https://archive.ics.uci.edu/ml/machine-learning-databases/adult/adult.data", col_names = FALSE)
colnames(data) <- c("age", "workclass", "fnlwgt", "education", "education_num", "married", "occupation", "relationship", "race",  "sex", "capital-gain", "capital-loss", "hours-per-week", "native-country", "income")
levels(data$workclass)
levels(data$workclass)
type(data$workclass)
typeof(data$workclass)
factor(data$workclass)
x <- factor(data$workclass)
levels(x)
fct_recode(x, "?" = "unknown")
fct_recode(x, "unknown" = "?")
levels(x)
x <- factor(data$workclass)
x <- fct_recode(x, "unknown" = "?")
levels(x)
data %>%
table(education)
table(data$education)
table(married)
table(data$married)
data$married <- fct_recode(data$married, "married" = c("Married-AF-spouse", "Married-civ-spouse", "Married-spouse-absent"), "notMarried" = c("Divorced", "Never-married", "Separated", "Widowed"))
data$married <- fct_recode(data$married, "married" = "Married-AF-spouse", "married" ="Married-civ-spouse", "married" ="Married-spouse-absent", "notMarried" = "Divorced", "notMarried" = "Never-married", "notMarried" = "Separated", "notMarried" = "Widowed"))
data$married <- fct_recode(data$married, "married" = "Married-AF-spouse", "married" ="Married-civ-spouse", "married" ="Married-spouse-absent", "notMarried" = "Divorced", "notMarried" = "Never-married", "notMarried" = "Separated", "notMarried" = "Widowed")
levels(data=married)
levels(data$married)
table(data$education)
data$education <- fct_collapse()
table(data$education)
data$education <- fct_collapse(nonHSgrad = c("10th", "11th", "12th", "1st-4th", "5th-6th", "7th-8th", "9th", "Preschool"),
assoc = c("Assoc-acdm", "Assoc-voc"),
HSgrad = "HS-grad",
profSchool = "Prof-school",
someCollege = "Some-college")
data$education <- fct_collapse(data$education, nonHSgrad = c("10th", "11th", "12th", "1st-4th", "5th-6th", "7th-8th", "9th", "Preschool"),
assoc = c("Assoc-acdm", "Assoc-voc"),
HSgrad = "HS-grad",
profSchool = "Prof-school",
someCollege = "Some-college")
levles(data$education)
levels(data$education)
data$workclass <- fct_recode(data$workclass, "unknown" = "?")
data$married <- fct_collapse(data$married, married = c("Married-AF-spouse", "Married-civ-spouse", "Married-spouse-absent"),
notMarried = c("Divorced", "Never-married", "Separated", "Widowed"))
levels(data$married)
data$married <- fct_collapse(data$married, married = c("Married-AF-spouse", "Married-civ-spouse", "Married-spouse-absent"),
notMarried = c("Divorced", "Never-married", "Separated", "Widowed"))
levels(data$married)
library(tidyverse)
data <- read_csv("https://archive.ics.uci.edu/ml/machine-learning-databases/adult/adult.data", col_names = FALSE)
colnames(data) <- c("age", "workclass", "fnlwgt", "education", "education_num", "married", "occupation", "relationship", "race",  "sex", "capital-gain", "capital-loss", "hours-per-week", "native-country", "income")
head(data)
table(data$married)
data %>%
mutate(workclass = factor(workclass),
education = factor(e))
data$workclass <- fct_recode(data$workclass, "unknown" = "?")
data$married <- fct_collapse(data$married, married = c("Married-AF-spouse", "Married-civ-spouse", "Married-spouse-absent"),
notMarried = c("Divorced", "Never-married", "Separated", "Widowed"))
levels(data$married)
table(data$occupation)
data$occupation <- fct_recode(data$education, unknown = "?")
data$occupation <- fct_recode(data$education, "unknown" = "?")
table(data$occupation)
table(data$occupation)
data$occupation <- fct_recode(data$education, "unknown" = "?")
table(data$occupation)
data
library(tidyverse)
data <- read_csv("https://archive.ics.uci.edu/ml/machine-learning-databases/adult/adult.data", col_names = FALSE)
colnames(data) <- c("age", "workclass", "fnlwgt", "education", "education_num", "married", "occupation", "relationship", "race",  "sex", "capital-gain", "capital-loss", "hours-per-week", "native-country", "income")
head(data)
data$workclass <- fct_recode(data$workclass, "unknown" = "?")
data$married <- fct_collapse(data$married,
married = c("Married-AF-spouse", "Married-civ-spouse", "Married-spouse-absent"),
notMarried = c("Divorced", "Never-married", "Separated", "Widowed"))
levels(data$married)
data$workclass <- factor(data$workclass)
data$workclass <- fct_recode(data$workclass, "unknown" = "?")
levels(workclass)
levels(data$workclass)
data$workclass <- factor(data$workclass)
data$workclass <- fct_recode(data$workclass, "unknown" = "?")
levels(data$workclass)
data$workclass <- fct_recode(data$workclass, "unknown" = "?")
library(tidyverse)
data <- read_csv("https://archive.ics.uci.edu/ml/machine-learning-databases/adult/adult.data", col_names = FALSE)
colnames(data) <- c("age", "workclass", "fnlwgt", "education", "education_num", "married", "occupation", "relationship", "race",  "sex", "capital-gain", "capital-loss", "hours-per-week", "native-country", "income")
data$workclass <- factor(data$workclass)
data$workclass <- fct_recode(data$workclass, "unknown" = "?")
levels(data$workclass)
data$married <- fct_collapse(data$married,
married = c("Married-AF-spouse", "Married-civ-spouse", "Married-spouse-absent"),
notMarried = c("Divorced", "Never-married", "Separated", "Widowed"))
levels(data$married)
table(data$education)
data$education <- fct_collapse(data$education,
nonHSgrad = c("10th", "11th", "12th", "1st-4th", "5th-6th", "7th-8th", "9th", "Preschool"),
assoc = c("Assoc-acdm", "Assoc-voc"),
HSgrad = "HS-grad",
profSchool = "Prof-school",
someCollege = "Some-college")
levels(data$education)
table(data$occupation)
data$occupation <- fct_recode(data$education, "unknown" = "?")
data
library(tidyverse)
data <- read_csv("https://archive.ics.uci.edu/ml/machine-learning-databases/adult/adult.data", col_names = FALSE)
colnames(data) <- c("age", "workclass", "fnlwgt", "education", "education_num", "married", "occupation", "relationship", "race",  "sex", "capital-gain", "capital-loss", "hours-per-week", "native-country", "income")
head(data)
data$workclass <- factor(data$workclass)
data$workclass <- fct_recode(data$workclass, "unknown" = "?")
levels(data$workclass)
data$married <- fct_collapse(data$married,
married = c("Married-AF-spouse", "Married-civ-spouse", "Married-spouse-absent"),
notMarried = c("Divorced", "Never-married", "Separated", "Widowed"))
levels(data$married)
table(data$education)
data$education <- fct_collapse(data$education,
nonHSgrad = c("10th", "11th", "12th", "1st-4th", "5th-6th", "7th-8th", "9th", "Preschool"),
assoc = c("Assoc-acdm", "Assoc-voc"),
HSgrad = "HS-grad",
profSchool = "Prof-school",
someCollege = "Some-college")
levels(data$education)
table(data$relationship)
table(data$`native-country`)
income_data_cleaned <- data %>%
mutate(workclass=factor(workclass), education=factor(education), married=factor(married),
occupation=factor(occupation), relationship=factor(relationship),
race=factor(race), sex=factor(sex), nativeCountry=factor(nativeCountry),
income=factor(income)) %>%
mutate(workclass=fct_recode(workclass, "unknown" = "?") %>%
mutate(married=fct_collapse(married,
married = c("Married-AF-spouse", "Married-civ-spouse", "Married-spouse-absent"),
notMarried = c("Divorced", "Never-married", "Separated", "Widowed"))) %>%
mutate(education=fct_collapse(education,
nonHSgrad = c("10th", "11th", "12th", "1st-4th", "5th-6th", "7th-8th", "9th", "Preschool"),
assoc = c("Assoc-acdm", "Assoc-voc"),
HSgrad = "HS-grad",
profSchool = "Prof-school",
someCollege = "Some-college") %>%
mutate(occupation=fct_recode(occupation, "unknown" = "?")) %>%
mutate(nativeCountry=fct_recode(data$nativeCountry, "unknown" = "?"))
income_data_cleaned <- data %>%
mutate(workclass=factor(workclass), education=factor(education), married=factor(married),
occupation=factor(occupation), relationship=factor(relationship),
race=factor(race), sex=factor(sex), nativeCountry=factor(nativeCountry),
income=factor(income))
data <- read_csv("https://archive.ics.uci.edu/ml/machine-learning-databases/adult/adult.data",
col_names = FALSE)
data <- read_csv("https://archive.ics.uci.edu/ml/machine-learning-databases/adult/adult.data",
col_names = FALSE)
colnames(data) <- c("age", "workclass", "fnlwgt", "education", "educationNum", "married",
"occupation", "relationship", "race",  "sex", "capitalGain", "capitalLoss",
"hrPerWeek", "nativeCountry", "income")
income_data_cleaned <- data %>%
mutate(workclass=factor(workclass), education=factor(education), married=factor(married),
occupation=factor(occupation), relationship=factor(relationship),
race=factor(race), sex=factor(sex), nativeCountry=factor(nativeCountry),
income=factor(income))
income_data_cleaned <- data %>%
mutate(workclass=factor(workclass), education=factor(education), married=factor(married),
occupation=factor(occupation), relationship=factor(relationship),
race=factor(race), sex=factor(sex), nativeCountry=factor(nativeCountry),
income=factor(income))
income_data_cleaned <- data %>%
mutate(workclass=fct_recode(workclass, "unknown" = "?"))%>%
income_data_cleaned <- data %>%
mutate(workclass=fct_recode(workclass, "unknown" = "?"))%>%
mutate(married=fct_collapse(married,
married = c("Married-AF-spouse", "Married-civ-spouse", "Married-spouse-absent"),
notMarried = c("Divorced", "Never-married", "Separated", "Widowed"))) %>%
mutate(education=fct_collapse(education,
nonHSgrad = c("10th", "11th", "12th", "1st-4th", "5th-6th", "7th-8th", "9th", "Preschool"),
assoc = c("Assoc-acdm", "Assoc-voc"),
HSgrad = "HS-grad",
profSchool = "Prof-school",
someCollege = "Some-college")) %>%
mutate(occupation=fct_recode(occupation, "unknown" = "?")) %>%
mutate(nativeCountry=fct_recode(data$nativeCountry, "unknown" = "?"))
income_data_cleaned <- data %>%
mutate(workclass=factor(workclass), education=factor(education), married=factor(married),
occupation=factor(occupation), relationship=factor(relationship),
race=factor(race), sex=factor(sex), nativeCountry=factor(nativeCountry),
income=factor(income)) %>%
mutate(workclass=fct_recode(data$workclass, "unknown" = "?"))%>%
mutate(married=fct_collapse(data$married,
married = c("Married-AF-spouse", "Married-civ-spouse", "Married-spouse-absent"),
notMarried = c("Divorced", "Never-married", "Separated", "Widowed"))) %>%
mutate(education=fct_collapse(data$education,
nonHSgrad = c("10th", "11th", "12th", "1st-4th", "5th-6th", "7th-8th", "9th", "Preschool"),
assoc = c("Assoc-acdm", "Assoc-voc"),
HSgrad = "HS-grad",
profSchool = "Prof-school",
someCollege = "Some-college")) %>%
mutate(occupation=fct_recode(data$occupation, "unknown" = "?")) %>%
mutate(nativeCountry=fct_recode(data$nativeCountry, "unknown" = "?"))
income_data_cleaned <- data %>%
mutate(workclass=factor(workclass), education=factor(education), married=factor(married),
occupation=factor(occupation), relationship=factor(relationship),
race=factor(race), sex=factor(sex), nativeCountry=factor(nativeCountry),
income=factor(income)) %>%
mutate(workclass=fct_recode(data$workclass, "unknown" = "?"))%>%
mutate(married=fct_collapse(data$married,
married = c("Married-AF-spouse", "Married-civ-spouse", "Married-spouse-absent"),
notMarried = c("Divorced", "Never-married", "Separated", "Widowed"))) %>%
mutate(education=fct_collapse(data$education,
nonHSgrad = c("10th", "11th", "12th", "1st-4th", "5th-6th", "7th-8th", "9th", "Preschool"),
assoc = c("Assoc-acdm", "Assoc-voc"),
HSgrad = "HS-grad",
profSchool = "Prof-school",
someCollege = "Some-college")) %>%
mutate(occupation=fct_recode(data$occupation, "unknown" = "?")) %>%
mutate(nativeCountry=fct_recode(data$nativeCountry, "unknown" = "?"))
income_data_cleaned
levels(income_data_cleaned$education)
income_data_cleaned <- data %>%
mutate(workclass=factor(workclass), education=factor(education), married=factor(married),
occupation=factor(occupation), relationship=factor(relationship),
race=factor(race), sex=factor(sex), nativeCountry=factor(nativeCountry),
income=factor(income)) %>%
mutate(workclass=fct_recode(data$workclass, "unknown" = "?")) %>%
mutate(married=fct_collapse(data$married,
married = c("Married-AF-spouse", "Married-civ-spouse", "Married-spouse-absent"),
notMarried = c("Divorced", "Never-married", "Separated", "Widowed"))) %>%
mutate(education=fct_collapse(data$education,
nonHSgrad = c("10th", "11th", "12th", "1st-4th", "5th-6th", "7th-8th", "9th", "Preschool"),
assoc = c("Assoc-acdm", "Assoc-voc"),
HSgrad = "HS-grad",
profSchool = "Prof-school",
someCollege = "Some-college")) %>%
mutate(occupation=fct_recode(data$occupation, "unknown" = "?")) %>%
mutate(nativeCountry=fct_recode(data$nativeCountry, "unknown" = "?"))
levels(income_data_cleaned$education)
income_data_cleaned
setwd("~/Documents/MDS/522/DSCI_522_Income_Prediction")
write_csv(income_data_cleaned, "data/tidydata.csv")
write_csv(income_data_cleaned, "data/tidy_data.csv")
