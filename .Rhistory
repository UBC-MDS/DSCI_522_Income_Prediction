doctorate = "Doctorate")) %>%
mutate(education=fct_reorder(data$education, c("nonHSgrad", "HSgrad", "someCollege", "assoc", "bachelors", "masters", "profSchool", "doctorate"))) %>%
mutate(occupation=fct_recode(data$occupation, "unknown" = "?")) %>%
mutate(nativeCountry=fct_recode(data$nativeCountry, "unknown" = "?"))
data_cleaned_viz <- data %>%
mutate(workclass=factor(workclass), education=factor(education), married=factor(married),
occupation=factor(occupation), relationship=factor(relationship),
race=factor(race), sex=factor(sex), nativeCountry=factor(nativeCountry),
income=factor(income)) %>%
mutate(workclass=fct_recode(data$workclass, "unknown" = "?")) %>%
mutate(married=fct_collapse(data$married,
married = c("Married-AF-spouse", "Married-civ-spouse", "Married-spouse-absent"),
notMarried = c("Divorced", "Never-married", "Separated", "Widowed"))) %>%
mutate(education=fct_collapse(data$education,
nonHSgrad = c("10th", "11th", "12th", "1st-4th", "5th-6th", "7th-8th", "9th", "Preschool"),
HSgrad = "HS-grad",
someCollege = "Some-college",
assoc = c("Assoc-acdm", "Assoc-voc"),
bachelors = "Bachelors",
masters = "Masters",
profSchool = "Prof-school",
doctorate = "Doctorate")) %>%
mutate(education=fct_relevel(data$education, c("nonHSgrad", "HSgrad", "someCollege", "assoc", "bachelors", "masters", "profSchool", "doctorate"))) %>%
mutate(occupation=fct_recode(data$occupation, "unknown" = "?")) %>%
mutate(nativeCountry=fct_recode(data$nativeCountry, "unknown" = "?"))
data_cleaned_viz <- data %>%
mutate(workclass=factor(workclass), education=factor(education), married=factor(married),
occupation=factor(occupation), relationship=factor(relationship),
race=factor(race), sex=factor(sex), nativeCountry=factor(nativeCountry),
income=factor(income)) %>%
mutate(workclass=fct_recode(data$workclass, "unknown" = "?")) %>%
mutate(married=fct_collapse(data$married,
married = c("Married-AF-spouse", "Married-civ-spouse", "Married-spouse-absent"),
notMarried = c("Divorced", "Never-married", "Separated", "Widowed"))) %>%
mutate(education=fct_collapse(data$education,
nonHSgrad = c("10th", "11th", "12th", "1st-4th", "5th-6th", "7th-8th", "9th", "Preschool"),
HSgrad = "HS-grad",
someCollege = "Some-college",
assoc = c("Assoc-acdm", "Assoc-voc"),
bachelors = "Bachelors",
masters = "Masters",
profSchool = "Prof-school",
doctorate = "Doctorate")) %>%
mutate(education=fct_relevel(data$education, "nonHSgrad", "HSgrad", "someCollege", "assoc", "bachelors", "masters", "profSchool", "doctorate")) %>%
mutate(occupation=fct_recode(data$occupation, "unknown" = "?")) %>%
mutate(nativeCountry=fct_recode(data$nativeCountry, "unknown" = "?"))
data_cleaned_viz <- data %>%
mutate(workclass=factor(workclass), education=factor(education), married=factor(married),
occupation=factor(occupation), relationship=factor(relationship),
race=factor(race), sex=factor(sex), nativeCountry=factor(nativeCountry),
income=factor(income)) %>%
mutate(workclass=fct_recode(data$workclass, "unknown" = "?")) %>%
mutate(married=fct_collapse(data$married,
married = c("Married-AF-spouse", "Married-civ-spouse", "Married-spouse-absent"),
notMarried = c("Divorced", "Never-married", "Separated", "Widowed"))) %>%
mutate(education=fct_collapse(data$education,
nonHSgrad = c("10th", "11th", "12th", "1st-4th", "5th-6th", "7th-8th", "9th", "Preschool"),
HSgrad = "HS-grad",
someCollege = "Some-college",
assoc = c("Assoc-acdm", "Assoc-voc"),
bachelors = "Bachelors",
masters = "Masters",
profSchool = "Prof-school",
doctorate = "Doctorate")) %>%
mutate(education=ordered(data$education, levels = c("nonHSgrad", "HSgrad", "someCollege", "assoc", "bachelors", "masters", "profSchool", "doctorate"))) %>%
mutate(occupation=fct_recode(data$occupation, "unknown" = "?")) %>%
mutate(nativeCountry=fct_recode(data$nativeCountry, "unknown" = "?"))
table(data_cleaned_viz$education)
data_cleaned_viz <- data %>%
mutate(workclass=factor(workclass), education=factor(education), married=factor(married),
occupation=factor(occupation), relationship=factor(relationship),
race=factor(race), sex=factor(sex), nativeCountry=factor(nativeCountry),
income=factor(income)) %>%
mutate(workclass=fct_recode(data$workclass, "unknown" = "?")) %>%
mutate(married=fct_collapse(data$married,
married = c("Married-AF-spouse", "Married-civ-spouse", "Married-spouse-absent"),
notMarried = c("Divorced", "Never-married", "Separated", "Widowed"))) %>%
mutate(education=fct_collapse(data$education,
nonHSgrad = c("10th", "11th", "12th", "1st-4th", "5th-6th", "7th-8th", "9th", "Preschool"),
HSgrad = "HS-grad",
someCollege = "Some-college",
assoc = c("Assoc-acdm", "Assoc-voc"),
bachelors = "Bachelors",
masters = "Masters",
profSchool = "Prof-school",
doctorate = "Doctorate")) %>%
mutate(education=ordered(data$education, levels = c("nonHSgrad", "HSgrad", "someCollege", "assoc", "bachelors", "masters", "profSchool", "doctorate"))) %>%
mutate(occupation=fct_recode(data$occupation, "unknown" = "?")) %>%
mutate(nativeCountry=fct_recode(data$nativeCountry, "unknown" = "?"))
data_cleaned_viz <- data %>%
mutate(workclass=factor(workclass), education=factor(education), married=factor(married),
occupation=factor(occupation), relationship=factor(relationship),
race=factor(race), sex=factor(sex), nativeCountry=factor(nativeCountry),
income=factor(income)) %>%
mutate(workclass=fct_recode(data$workclass, "unknown" = "?")) %>%
mutate(married=fct_collapse(data$married,
married = c("Married-AF-spouse", "Married-civ-spouse", "Married-spouse-absent"),
notMarried = c("Divorced", "Never-married", "Separated", "Widowed"))) %>%
mutate(education=fct_collapse(data$education,
nonHSgrad = c("10th", "11th", "12th", "1st-4th", "5th-6th", "7th-8th", "9th", "Preschool"),
HSgrad = "HS-grad",
someCollege = "Some-college",
assoc = c("Assoc-acdm", "Assoc-voc"),
bachelors = "Bachelors",
masters = "Masters",
profSchool = "Prof-school",
doctorate = "Doctorate")) %>%
mutate(education=fct_relevel(data$education, levels = c("nonHSgrad", "HSgrad", "someCollege", "assoc", "bachelors", "masters", "profSchool", "doctorate"))) %>%
mutate(occupation=fct_recode(data$occupation, "unknown" = "?")) %>%
mutate(nativeCountry=fct_recode(data$nativeCountry, "unknown" = "?"))
data_cleaned_viz <- data %>%
mutate(workclass=factor(workclass), education=factor(education), married=factor(married),
occupation=factor(occupation), relationship=factor(relationship),
race=factor(race), sex=factor(sex), nativeCountry=factor(nativeCountry),
income=factor(income)) %>%
mutate(workclass=fct_recode(data$workclass, "unknown" = "?")) %>%
mutate(married=fct_collapse(data$married,
married = c("Married-AF-spouse", "Married-civ-spouse", "Married-spouse-absent"),
notMarried = c("Divorced", "Never-married", "Separated", "Widowed"))) %>%
mutate(education=fct_collapse(data$education,
nonHSgrad = c("10th", "11th", "12th", "1st-4th", "5th-6th", "7th-8th", "9th", "Preschool"),
HSgrad = "HS-grad",
someCollege = "Some-college",
assoc = c("Assoc-acdm", "Assoc-voc"),
bachelors = "Bachelors",
masters = "Masters",
profSchool = "Prof-school",
doctorate = "Doctorate")) %>%
mutate(education=fct_relevel(data$education, "nonHSgrad", "HSgrad", "someCollege", "assoc", "bachelors", "masters", "profSchool", "doctorate")) %>%
mutate(occupation=fct_recode(data$occupation, "unknown" = "?")) %>%
mutate(nativeCountry=fct_recode(data$nativeCountry, "unknown" = "?"))
education=factor(data$education, levels(data$education)[c("nonHSgrad", "HSgrad", "someCollege", "assoc", "bachelors", "masters", "profSchool", "doctorate")])
data_cleaned_viz <- data %>%
mutate(workclass=factor(workclass), education=factor(education), married=factor(married),
occupation=factor(occupation), relationship=factor(relationship),
race=factor(race), sex=factor(sex), nativeCountry=factor(nativeCountry),
income=factor(income)) %>%
mutate(workclass=fct_recode(data$workclass, "unknown" = "?")) %>%
mutate(married=fct_collapse(data$married,
married = c("Married-AF-spouse", "Married-civ-spouse", "Married-spouse-absent"),
notMarried = c("Divorced", "Never-married", "Separated", "Widowed"))) %>%
mutate(education=fct_collapse(data$education,
nonHSgrad = c("10th", "11th", "12th", "1st-4th", "5th-6th", "7th-8th", "9th", "Preschool"),
HSgrad = "HS-grad",
someCollege = "Some-college",
assoc = c("Assoc-acdm", "Assoc-voc"),
bachelors = "Bachelors",
masters = "Masters",
profSchool = "Prof-school",
doctorate = "Doctorate")) %>%
mutate(education=factor(data$education, levels(data$education)[c("nonHSgrad", "HSgrad", "someCollege", "assoc", "bachelors", "masters", "profSchool", "doctorate")])) %>%
#mutate(education=forcats::gss_cat[, c("rincome", "denom")fct_relevel(data$education, "nonHSgrad", "HSgrad", "someCollege", "assoc", "bachelors", "masters", "profSchool", "doctorate")) %>%
mutate(occupation=fct_recode(data$occupation, "unknown" = "?")) %>%
mutate(nativeCountry=fct_recode(data$nativeCountry, "unknown" = "?"))
table(data_cleaned_viz$education)
data_cleaned_viz <- data %>%
mutate(workclass=factor(workclass), education=factor(education), married=factor(married),
occupation=factor(occupation), relationship=factor(relationship),
race=factor(race), sex=factor(sex), nativeCountry=factor(nativeCountry),
income=factor(income)) %>%
mutate(workclass=fct_recode(data$workclass, "unknown" = "?")) %>%
mutate(married=fct_collapse(data$married,
married = c("Married-AF-spouse", "Married-civ-spouse", "Married-spouse-absent"),
notMarried = c("Divorced", "Never-married", "Separated", "Widowed"))) %>%
mutate(education=fct_collapse(data$education,
nonHSgrad = c("10th", "11th", "12th", "1st-4th", "5th-6th", "7th-8th", "9th", "Preschool"),
HSgrad = "HS-grad",
someCollege = "Some-college",
assoc = c("Assoc-acdm", "Assoc-voc"),
bachelors = "Bachelors",
masters = "Masters",
profSchool = "Prof-school",
doctorate = "Doctorate")) %>%
mutate(education=fct_relevel(data$education, "nonHSgrad", "HSgrad", "someCollege", "assoc", "bachelors", "masters", "profSchool")) %>%
mutate(occupation=fct_recode(data$occupation, "unknown" = "?")) %>%
mutate(nativeCountry=fct_recode(data$nativeCountry, "unknown" = "?"))
data_cleaned_viz <- data %>%
mutate(workclass=factor(workclass), education=factor(education), married=factor(married),
occupation=factor(occupation), relationship=factor(relationship),
race=factor(race), sex=factor(sex), nativeCountry=factor(nativeCountry),
income=factor(income)) %>%
mutate(workclass=fct_recode(data$workclass, "unknown" = "?")) %>%
mutate(married=fct_collapse(data$married,
married = c("Married-AF-spouse", "Married-civ-spouse", "Married-spouse-absent"),
notMarried = c("Divorced", "Never-married", "Separated", "Widowed"))) %>%
mutate(education=fct_collapse(data$education,
nonHSgrad = c("10th", "11th", "12th", "1st-4th", "5th-6th", "7th-8th", "9th", "Preschool"),
HSgrad = "HS-grad",
someCollege = "Some-college",
assoc = c("Assoc-acdm", "Assoc-voc"),
bachelors = "Bachelors",
masters = "Masters",
profSchool = "Prof-school",
doctorate = "Doctorate")) %>%
mutate(education=fct_relevel(data$education, "nonHSgrad", "HSgrad")) %>%
mutate(occupation=fct_recode(data$occupation, "unknown" = "?")) %>%
mutate(nativeCountry=fct_recode(data$nativeCountry, "unknown" = "?"))
data_cleaned_viz <- data %>%
mutate(workclass=factor(workclass), education=factor(education), married=factor(married),
occupation=factor(occupation), relationship=factor(relationship),
race=factor(race), sex=factor(sex), nativeCountry=factor(nativeCountry),
income=factor(income)) %>%
mutate(workclass=fct_recode(data$workclass, "unknown" = "?")) %>%
mutate(married=fct_collapse(data$married,
married = c("Married-AF-spouse", "Married-civ-spouse", "Married-spouse-absent"),
notMarried = c("Divorced", "Never-married", "Separated", "Widowed"))) %>%
mutate(education=fct_collapse(data$education,
nonHSgrad = c("10th", "11th", "12th", "1st-4th", "5th-6th", "7th-8th", "9th", "Preschool"),
HSgrad = "HS-grad",
someCollege = "Some-college",
assoc = c("Assoc-acdm", "Assoc-voc"),
bachelors = "Bachelors",
masters = "Masters",
profSchool = "Prof-school",
doctorate = "Doctorate"))
data_cleaned_viz %>%
mutate(education=fct_relevel(data_cleaned_viz$education, "nonHSgrad", "HSgrad"))
data_cleaned_viz %>%
mutate(education=fct_relevel(data_cleaned_viz$education, "nonHSgrad", "HSgrad", "someCollege", "assoc", "bachelors", "masters", "profSchool")) %>%
mutate(occupation=fct_recode(data$occupation, "unknown" = "?")) %>%
data_cleaned_viz %>%
mutate(education=fct_relevel(data_cleaned_viz$education, "nonHSgrad", "HSgrad", "someCollege", "assoc", "bachelors", "masters", "profSchool")) %>%
mutate(occupation=fct_recode(data$occupation, "unknown" = "?")) %>%
mutate(nativeCountry=fct_recode(data$nativeCountry, "unknown" = "?"))
data_cleaned_viz %>%
mutate(education=fct_relevel(data_cleaned_viz$education, "nonHSgrad", "HSgrad", "someCollege", "assoc", "bachelors", "masters", "profSchool")) %>%
mutate(occupation=fct_recode(data_cleaned_viz$occupation, "unknown" = "?")) %>%
mutate(nativeCountry=fct_recode(data_cleaned_viz$nativeCountry, "unknown" = "?"))
table
table(data_cleaned_viz$education)
data_cleaned_viz %>%
mutate(education=fct_relevel(data_cleaned_viz$education, "nonHSgrad", "HSgrad", "someCollege", "assoc", "bachelors", "masters", "profSchool")) %>%
mutate(occupation=fct_recode(data_cleaned_viz$occupation, "unknown" = "?")) %>%
mutate(nativeCountry=fct_recode(data_cleaned_viz$nativeCountry, "unknown" = "?"))
data_cleaned_viz %>%
mutate(education=fct_relevel(data_cleaned_viz$education, "nonHSgrad", "HSgrad", "someCollege", "assoc", "bachelors", "masters", "profSchool")) %>%
mutate(occupation=fct_recode(data_cleaned_viz$occupation, "unknown" = "?")) %>%
mutate(nativeCountry=fct_recode(data_cleaned_viz$nativeCountry, "unknown" = "?"))
table(data_cleaned_viz$education)
data_cleaned_viz %>%
mutate(education=fct_relevel(data_cleaned_viz$education, "nonHSgrad", "HSgrad")) %>%
mutate(occupation=fct_recode(data_cleaned_viz$occupation, "unknown" = "?")) %>%
mutate(nativeCountry=fct_recode(data_cleaned_viz$nativeCountry, "unknown" = "?"))
table(data_cleaned_viz$education)
data_cleaned_viz <- data_cleaned_viz %>%
mutate(education=fct_relevel(data_cleaned_viz$education, "nonHSgrad", "HSgrad")) %>%
mutate(occupation=fct_recode(data_cleaned_viz$occupation, "unknown" = "?")) %>%
mutate(nativeCountry=fct_recode(data_cleaned_viz$nativeCountry, "unknown" = "?"))
table(data_cleaned_viz$education)
data_cleaned_viz <- data_cleaned_viz %>%
mutate(education=fct_relevel(data_cleaned_viz$education, "nonHSgrad", "HSgrad", "someCollege", "assoc", "bachelors", "masters", "profSchool")) %>%
mutate(occupation=fct_recode(data_cleaned_viz$occupation, "unknown" = "?")) %>%
mutate(nativeCountry=fct_recode(data_cleaned_viz$nativeCountry, "unknown" = "?"))
data_cleaned_viz <- data_cleaned_viz %>%
mutate(education=fct_relevel(data_cleaned_viz$education, "someCollege", "assoc")) %>%
mutate(education=fct_relevel(data_cleaned_viz$education, "nonHSgrad", "HSgrad")) %>%
mutate(occupation=fct_recode(data_cleaned_viz$occupation, "unknown" = "?")) %>%
mutate(nativeCountry=fct_recode(data_cleaned_viz$nativeCountry, "unknown" = "?"))
data_cleaned_viz <- data_cleaned_viz %>%
mutate(education=fct_relevel(data_cleaned_viz$education, "someCollege", "assoc")) %>%
mutate(education=fct_relevel(data_cleaned_viz$education, "nonHSgrad", "HSgrad")) %>%
mutate(occupation=fct_recode(data_cleaned_viz$occupation, "unknown" = "?")) %>%
mutate(nativeCountry=fct_recode(data_cleaned_viz$nativeCountry, "unknown" = "?"))
data_cleaned_viz <- data_cleaned_viz %>%
#mutate(education=fct_relevel(data_cleaned_viz$education, "someCollege", "assoc")) %>%
mutate(education=fct_relevel(data_cleaned_viz$education, "nonHSgrad", "HSgrad")) %>%
mutate(occupation=fct_recode(data_cleaned_viz$occupation, "unknown" = "?")) %>%
mutate(nativeCountry=fct_recode(data_cleaned_viz$nativeCountry, "unknown" = "?"))
table(data_cleaned_viz$education)
data_cleaned_viz <- data %>%
mutate(workclass=factor(workclass), education=factor(education), married=factor(married),
occupation=factor(occupation), relationship=factor(relationship),
race=factor(race), sex=factor(sex), nativeCountry=factor(nativeCountry),
income=factor(income)) %>%
mutate(workclass=fct_recode(data$workclass, "unknown" = "?")) %>%
mutate(married=fct_collapse(data$married,
married = c("Married-AF-spouse", "Married-civ-spouse", "Married-spouse-absent"),
notMarried = c("Divorced", "Never-married", "Separated", "Widowed"))) %>%
mutate(education=fct_collapse(data$education,
nonHSgrad = c("10th", "11th", "12th", "1st-4th", "5th-6th", "7th-8th", "9th", "Preschool"),
HSgrad = "HS-grad",
someCollege = "Some-college",
assoc = c("Assoc-acdm", "Assoc-voc"),
bachelors = "Bachelors",
masters = "Masters",
profSchool = "Prof-school",
doctorate = "Doctorate"))
data_cleaned_viz <- data_cleaned_viz %>%
mutate(education=fct_relevel(data_cleaned_viz$education, "nonHSgrad", "HSgrad", "someCollege", "assoc", "bachelors", "masters", "profSchool")) %>%
mutate(occupation=fct_recode(data_cleaned_viz$occupation, "unknown" = "?")) %>%
mutate(nativeCountry=fct_recode(data_cleaned_viz$nativeCountry, "unknown" = "?"))
table(data_cleaned_viz$education)
data_cleaned_ml <- data_cleaned_viz %>%
mutate_if(is.factor, as.numeric)
table(data_cleaned_viz$race)
table(data_cleaned_viz$sex)
table(data_cleaned_viz$occupation)
table(data_cleaned_viz$nativeCountry)
data_cleaned_viz <- data %>%
mutate(workclass=factor(workclass), education=factor(education), married=factor(married),
occupation=factor(occupation), relationship=factor(relationship),
race=factor(race), sex=factor(sex), nativeCountry=factor(nativeCountry),
income=factor(income)) %>%
select(-occupation, -relationship, -nativeCountry) %>%
mutate(workclass=fct_recode(data$workclass, "unknown" = "?")) %>%
mutate(married=fct_collapse(data$married,
married = c("Married-AF-spouse", "Married-civ-spouse", "Married-spouse-absent"),
notMarried = c("Divorced", "Never-married", "Separated", "Widowed"))) %>%
mutate(education=fct_collapse(data$education,
nonHSgrad = c("10th", "11th", "12th", "1st-4th", "5th-6th", "7th-8th", "9th", "Preschool"),
HSgrad = "HS-grad",
someCollege = "Some-college",
assoc = c("Assoc-acdm", "Assoc-voc"),
bachelors = "Bachelors",
masters = "Masters",
profSchool = "Prof-school",
doctorate = "Doctorate"))
table(data_cleaned_viz$income)
setwd("~/Documents/MDS/522/DSCI_522_Income_Prediction")
library(tidyverse)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
depth <- read_csv("results/depth_summary.csv")
feature <- read_csv("results/feature_summary.csv")
depth %>%
ggplot(aes(max_depth, accuracy))+
geom_line()
depth %>%
ggplot(aes(max_depth, accuracy))+
geom_line()+
geom_point()
depth %>%
ggplot(aes(max_depth, accuracy)) +
geom_line() +
geom_point() +
theme_bw()
depth %>%
ggplot(aes(max_depth, accuracy)) +
geom_line() +
geom_point() +
theme_bw() +
labs(x = "Decision Tree Max Depth", y = "Cross Validation Accuracy", title = "Find Optimal Tree Depth")
depth
library(tidyverse)
depth <- read_csv("results/depth_summary.csv")
feature <- read_csv("results/feature_summary.csv")
depth %>%
ggplot(aes(max_depth, accuracy)) +
geom_line() +
geom_point() +
theme_bw() +
labs(x = "Decision Tree Max Depth", y = "Cross Validation Accuracy", title = "Find Optimal Tree Depth")
depth
depth %>%
ggplot(aes(max_depth, accuracy)) +
geom_line() +
geom_point() +
theme_bw() +
labs(x = "Decision Tree Max Depth", y = "Cross Validation Accuracy", title = "Find Optimal Tree Depth")
png(filename = "results/depth_graph.png")
depth %>%
ggplot(aes(max_depth, accuracy)) +
geom_line() +
geom_point() +
theme_bw() +
labs(x = "Decision Tree Max Depth", y = "Cross Validation Accuracy", title = "Find Optimal Tree Depth")
# png(filename = "results/depth_graph.png")
depth %>%
ggplot(aes(max_depth, accuracy)) +
geom_line() +
geom_point() +
theme_bw() +
labs(x = "Decision Tree Max Depth", y = "Cross Validation Accuracy", title = "Find Optimal Tree Depth")
# png(filename = "results/depth_graph.png")
# creating feature importance graph
feature %>%
ggplot(aes(variable, feature_importance)) +
geom_bar() +
theme_bw()
# creating feature importance graph
feature %>%
ggplot(aes(variable, feature_importance)) +
geom_col() +
theme_bw()
# creating feature importance graph
feature %>%
ggplot(aes(variable[-income], feature_importance)) +
geom_col() +
theme_bw()
feature
# creating feature importance graph
drop_na(feature) %>%
ggplot(aes(variable, feature_importance)) +
geom_col() +
theme_bw()
# creating feature importance graph
drop_na(feature) %>%
ggplot(aes(fct_reorder(feature$variable, feature$feature_importance), feature_importance)) +
geom_col() +
theme_bw()
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
depth <- read_csv("results/depth_summary.csv")
feature <- read_csv("results/feature_summary.csv")
# creating max_depth vs accuracy graph
depth %>%
ggplot(aes(max_depth, accuracy)) +
geom_line() +
geom_point() +
theme_bw() +
labs(x = "Decision Tree Max Depth", y = "Cross Validation Accuracy", title = "Find Optimal Tree Depth")
# png(filename = "results/depth_graph.png")
# creating feature importance graph
feature %>%
ggplot(aes(variable, feature_importance)) +
geom_col() +
theme_bw()
feature
# creating feature importance graph
feature %>%
ggplot(aes(fct_reorder(feature$variable, feature$feature_importance), feature_importance)) +
geom_col() +
theme_bw()
# creating feature importance graph
feature %>%
ggplot(aes(feature_importance, fct_reorder(feature$variable, feature$feature_importance))) +
geom_col() +
theme_bw()
fct_reorder(feature$variable, feature$feature_importance),
# creating feature importance graph
feature %>%
ggplot(aes(fct_reorder(feature$variable, feature$feature_importance), feature_importance)) +
geom_col() +
theme_bw()
# creating feature importance graph
feature %>%
ggplot(aes(fct_reorder(feature$variable, feature$feature_importance, .desc = TRUE), feature_importance)) +
geom_col() +
theme_bw()
# creating feature importance graph
feature %>%
ggplot(aes(feature_importance, fct_reorder(feature$variable, feature$feature_importance, .desc = TRUE))) +
geom_col() +
theme_bw()
# creating feature importance graph
feature %>%
ggplot(aes(feature_importance, fct_reorder(feature$variable, feature$feature_importance, .desc = TRUE))) +
geom_bar() +
theme_bw()
# creating feature importance graph
feature %>%
ggplot(aes(feature_importance, fct_reorder(feature$variable, feature$feature_importance, .desc = TRUE))) +
geom_row() +
theme_bw()
# creating feature importance graph
feature %>%
ggplot(aes(fct_reorder(feature$variable, feature$feature_importance, .desc = TRUE), feature_importance)) +
geom_col() +
coord_flip()
# creating feature importance graph
feature %>%
ggplot(aes(fct_reorder(feature$variable, feature$feature_importance, .desc = TRUE), feature_importance)) +
geom_col() +
coord_flip()
# creating feature importance graph
feature %>%
ggplot(aes(fct_reorder(feature$variable, feature$feature_importance), feature_importance)) +
geom_col() +
coord_flip()
# creating feature importance graph
feature %>%
ggplot(aes(fct_reorder(feature$variable, feature$feature_importance), feature_importance)) +
geom_col() +
coord_flip() +
theme_bw()
# creating feature importance graph
feature %>%
ggplot(aes(fct_reorder(feature$variable, feature$feature_importance), feature_importance)) +
geom_col() +
coord_flip()
# creating max_depth vs accuracy graph
depth %>%
ggplot(aes(max_depth, accuracy)) +
geom_line() +
geom_point() +
labs(x = "Decision Tree Max Depth", y = "Cross Validation Accuracy", title = "Find Optimal Tree Depth")
# creating feature importance graph
feature %>%
ggplot(aes(fct_reorder(feature$variable, feature$feature_importance), feature_importance)) +
geom_col() +
coord_flip() +
labs(x = "Decision Tree Feature Importance", y = "Variables", title = "Feature Importances for Decision Tree")
# creating feature importance graph
feature %>%
ggplot(aes(fct_reorder(feature$variable, feature$feature_importance), feature_importance)) +
geom_col() +
coord_flip() +
labs(x = "Variables", y = "Decision Tree Feature Importance", title = "Feature Importances for Decision Tree")
# creating max_depth vs accuracy graph
depth %>%
ggplot(aes(max_depth, accuracy)) +
geom_line() +
geom_point() +
labs(x = "Decision Tree Max Depth", y = "Cross Validation Accuracy", title = "Find Optimal Tree Depth")
ggsave(filename = "results/depth_graph.png", plot = last_plot())
# creating feature importance graph
feature %>%
ggplot(aes(fct_reorder(feature$variable, feature$feature_importance), feature_importance)) +
geom_col() +
coord_flip() +
labs(x = "Variables", y = "Decision Tree Feature Importance", title = "Feature Importances for Decision Tree")
ggsave(filename = "results/depth_graph.png", plot = last_plot())
